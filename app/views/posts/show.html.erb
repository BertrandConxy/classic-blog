<section class="container position-relative">
  <%= render partial: 'shared/post', locals: {post: @post } %>
  <h3>Add comment</h3>
  <div>
    <%= form_with url: user_post_comments_path(user_id: params[:user_id], post_id: @post.id), model: @comment, method: :post, authenticity_token: true, data: { turbo_frame: "comments" }  do |f| %>
      <%= f.text_field :text %>
      <%= f.submit %>
    <% end %>
  </div>
  <h3>Comments</h3>
  <%= turbo_frame_tag "comments" do %>
    <% if !@comments.empty? %>
      <div class='queries'>
        <% @comments.each do |comment| %>
          <ul class="list">
              <li class='qlist'> <%= comment.user.name %> : <%= comment.text  %></li>
          </ul>
        <% end %>
      </div>
      <% else %>
      <p>No comments added yet</p>
    <% end %>
  <% end %>

  <div>
    <%= link_to "<--Back", user_path(params[:user_id]), class: "fw-bold fs-5 position-absolute top-0 mt-3 link text-decoration-none text-dark" %>
    <%= button_to "Remove this post", user_post_path(@post), method: :delete, class: "btn btn-danger"%>
  </div>
</section>
